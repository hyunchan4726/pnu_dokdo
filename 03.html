<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„ í•µì‹¬ ìš©ì–´ ì‚¬ì „: ì¸í„°ë™í‹°ë¸Œ íƒìƒ‰ê¸°</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: East Sea Blue (Warm Neutral Background with Deep Blue Accents) -->
    <!-- Application Structure Plan: 
         1. Dashboard Layout: The app is structured as a "Knowledge Dashboard" rather than a linear document.
         2. Hero Section: Sets the tone and context.
         3. Dynamic Navigation: Allows users to filter content by category (Geography, History, Law, etc.), transforming a long list into manageable chunks.
         4. Three Core Views:
            - 'Card Grid': The default exploratory view for all terms.
            - 'Timeline View': Automatically extracts chronological events (1667-2005) mentioned in the text for a historical perspective.
            - 'Data Analysis': Visualizes the numerical data found in the report (Distances, EEZ) to provide scale context.
         5. Interaction: Search bar, category filters, and tab switching drive the content display.
         6. Justification: This structure allows users to jump between "what is it?" (Definitions), "when did it happen?" (History), and "how big is it?" (Data), covering all aspects of the report.
    -->
    <!-- Visualization & Content Choices:
         1. Geography & Law -> Goal: Inform -> Method: Concept Cards with Icons -> Interaction: Hover effects, Filtering -> Justification: Easy scanning of distinct terms.
         2. Historical Dates (1667, 1905, etc.) -> Goal: Organize -> Method: Vertical Timeline (HTML/CSS) -> Interaction: Scroll -> Justification: Shows the progression of events mentioned in the report clearly.
         3. Numerical Distances (12nm, 200nm, 87.4km) -> Goal: Compare -> Method: Horizontal Bar Chart (Chart.js) -> Interaction: Tooltips -> Justification: Visualizes the vast difference between Territorial Sea, Physical Distance, and EEZ described in the text.
         4. Confirmation: NO SVG graphics used. NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc; /* Slate 50 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .term-card {
            transition: all 0.3s ease;
        }
        .term-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Header Section -->
    <header class="bg-blue-900 text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0">
            <div class="flex items-center space-x-3 w-full md:w-auto justify-center md:justify-start">
                <span class="text-3xl">ğŸ‡°ğŸ‡·</span>
                <div>
                    <h1 class="text-xl md:text-2xl font-bold tracking-tight">ë…ë„ í•µì‹¬ ìš©ì–´ ì‚¬ì „</h1>
                    <p class="text-blue-200 text-xs md:text-sm">Dokdo Terminology & History Explorer</p>
                </div>
            </div>
            
            <!-- Right Side: Search + Home -->
            <div class="flex items-center gap-3 w-full md:w-auto">
                <!-- Global Search -->
                <div class="relative flex-grow md:w-64">
                    <input type="text" id="searchInput" placeholder="ìš©ì–´ ê²€ìƒ‰..." class="w-full px-4 py-2 rounded-full text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm">
                    <span class="absolute right-3 top-2.5 text-slate-400 text-xs">ğŸ”</span>
                </div>

                <!-- Home Icon -->
                <a href="index.html" class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-800 hover:bg-blue-700 transition text-white shadow-sm flex-shrink-0" title="í™ˆìœ¼ë¡œ ì´ë™">
                    <span class="text-lg">ğŸ </span>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Intro Context -->
        <section class="mb-10 text-center max-w-3xl mx-auto">
            <h2 class="text-2xl font-bold text-slate-800 mb-3">ëŒ€í•œë¯¼êµ­ ë…ë„ ì§€ì‹ ì•„ì¹´ì´ë¸Œ</h2>
            <p class="text-slate-600 leading-relaxed">
                ì´ ì¸í„°ë™í‹°ë¸Œ ì‚¬ì „ì€ ë…ë„ì˜ ì§€ë¦¬, í–‰ì •, êµ­ì œë²•ì  ì§€ìœ„, ì—­ì‚¬ì  ê¸°ë¡ ë° ê´€ë ¨ ì¸ë¬¼ì— ëŒ€í•œ í•µì‹¬ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. 
                ì•„ë˜ íƒ­ì„ ì‚¬ìš©í•˜ì—¬ ìš©ì–´ë¥¼ íƒìƒ‰í•˜ê±°ë‚˜, ì—°í‘œë¥¼ í†µí•´ ì—­ì‚¬ë¥¼ í™•ì¸í•˜ê³ , ì‹œê°í™”ëœ ë°ì´í„°ë¥¼ í†µí•´ ë…ë„ì˜ ìœ„ì¹˜ì  ì¤‘ìš”ì„±ì„ ì´í•´í•´ë³´ì„¸ìš”.
            </p>
        </section>

        <!-- Navigation Tabs -->
        <div class="flex flex-wrap justify-center mb-8 gap-2" id="viewTabs">
            <button onclick="switchView('cards')" class="view-tab active px-6 py-2 rounded-full bg-blue-600 text-white font-medium hover:bg-blue-700 transition shadow-sm" data-view="cards">ğŸ“š ìš©ì–´ ì¹´ë“œ (ì „ì²´)</button>
            <button onclick="switchView('timeline')" class="view-tab px-6 py-2 rounded-full bg-white text-slate-600 font-medium hover:bg-slate-100 border border-slate-200 transition shadow-sm" data-view="timeline">â³ ì—­ì‚¬ ì—°í‘œ</button>
            <button onclick="switchView('data')" class="view-tab px-6 py-2 rounded-full bg-white text-slate-600 font-medium hover:bg-slate-100 border border-slate-200 transition shadow-sm" data-view="data">ğŸ“Š ê±°ë¦¬ ë° ë°ì´í„°</button>
        </div>

        <!-- Filter Buttons (Only visible in Cards View) -->
        <div id="filterContainer" class="flex flex-wrap justify-center gap-2 mb-8 animate-fade-in">
            <button onclick="filterCards('all')" class="filter-btn active px-3 py-1 text-sm rounded-md bg-slate-200 text-slate-700 hover:bg-slate-300 font-medium" data-category="all">ì „ì²´ ë³´ê¸°</button>
            <button onclick="filterCards('ì§€ë¦¬ ë° í–‰ì •')" class="filter-btn px-3 py-1 text-sm rounded-md bg-white border border-slate-200 text-slate-600 hover:bg-slate-50" data-category="ì§€ë¦¬ ë° í–‰ì •">ğŸ—ºï¸ ì§€ë¦¬/í–‰ì •</button>
            <button onclick="filterCards('í•´ì–‘ë²• ë° ì¡°ì•½')" class="filter-btn px-3 py-1 text-sm rounded-md bg-white border border-slate-200 text-slate-600 hover:bg-slate-50" data-category="í•´ì–‘ë²• ë° ì¡°ì•½">âš–ï¸ í•´ì–‘ë²•/ì¡°ì•½</button>
            <button onclick="filterCards('ì—­ì‚¬ì  ëª…ì¹­')" class="filter-btn px-3 py-1 text-sm rounded-md bg-white border border-slate-200 text-slate-600 hover:bg-slate-50" data-category="ì—­ì‚¬ì  ëª…ì¹­">ğŸ·ï¸ ì—­ì‚¬ì  ëª…ì¹­</button>
            <button onclick="filterCards('ì£¼ìš” ë¬¸í—Œ')" class="filter-btn px-3 py-1 text-sm rounded-md bg-white border border-slate-200 text-slate-600 hover:bg-slate-50" data-category="ì£¼ìš” ë¬¸í—Œ">ğŸ“œ ì£¼ìš” ë¬¸í—Œ</button>
            <button onclick="filterCards('ì¸ë¬¼ ë° ë‹¨ì²´')" class="filter-btn px-3 py-1 text-sm rounded-md bg-white border border-slate-200 text-slate-600 hover:bg-slate-50" data-category="ì¸ë¬¼ ë° ë‹¨ì²´">ğŸ‘¥ ì¸ë¬¼/ë‹¨ì²´</button>
        </div>

        <!-- VIEW 1: Cards Grid -->
        <div id="cardsView" class="view-section block">
            <div id="cardsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards will be injected here via JS -->
            </div>
            <div id="noResults" class="hidden text-center py-12 text-slate-500">
                <p class="text-lg">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- VIEW 2: Timeline -->
        <div id="timelineView" class="view-section hidden">
            <div class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-sm border border-slate-100">
                <h3 class="text-xl font-bold text-slate-800 mb-6 border-b pb-2">ğŸ“… ë…ë„ ì—­ì‚¬ ì£¼ìš” ì—°í‘œ</h3>
                <p class="text-sm text-slate-500 mb-8">ë¬¸í—Œ ê¸°ë¡, ì¡°ì•½ ì²´ê²°, ì£¼ìš” ì‚¬ê±´ ë°œìƒ ì—°ë„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬ëœ ì—­ì‚¬ì  íë¦„ì…ë‹ˆë‹¤.</p>
                <div class="relative border-l-2 border-blue-200 ml-3 space-y-10" id="timelineContainer">
                    <!-- Timeline items injected via JS -->
                </div>
            </div>
        </div>

        <!-- VIEW 3: Data Analysis -->
        <div id="dataView" class="view-section hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Text Context -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-xl font-bold text-slate-800 mb-4">ğŸŒŠ í•´ì–‘ ì˜ì—­ê³¼ ê±°ë¦¬ì˜ ì´í•´</h3>
                    <p class="text-slate-600 mb-4 leading-relaxed">
                        ë…ë„ëŠ” ë‹¨ìˆœí•œ ì„¬ì´ ì•„ë‹ˆë¼ ëŒ€í•œë¯¼êµ­ì˜ <strong>ì˜í•´</strong>ì™€ <strong>ë°°íƒ€ì  ê²½ì œìˆ˜ì—­(EEZ)</strong>ì„ ê²°ì •ì§“ëŠ” ì¤‘ìš”í•œ ê¸°ì ì…ë‹ˆë‹¤.
                        ë³´ê³ ì„œì— ì–¸ê¸‰ëœ ìˆ˜ì¹˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¬¼ë¦¬ì  ê±°ë¦¬ì™€ ë²•ì  ê¶Œë¦¬ ìˆ˜ì—­ì˜ í¬ê¸°ë¥¼ ë¹„êµí•©ë‹ˆë‹¤.
                    </p>
                    <ul class="space-y-3 mt-6">
                        <li class="flex items-start">
                            <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mt-1 mr-2">ì˜í•´ (12í•´ë¦¬)</span>
                            <span class="text-sm text-slate-600">êµ­ê°€ì˜ ì ˆëŒ€ì  ì£¼ê¶Œì´ ë¯¸ì¹˜ëŠ” ë°”ë‹¤. ì•½ 22km ë²”ìœ„ì…ë‹ˆë‹¤.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded mt-1 mr-2">ê±°ë¦¬ (87.4km)</span>
                            <span class="text-sm text-slate-600">ìš¸ë¦‰ë„ì—ì„œ ë…ë„ê¹Œì§€ì˜ ê±°ë¦¬ì…ë‹ˆë‹¤. ìœ¡ì•ˆìœ¼ë¡œ ê´€ì¸¡ ê°€ëŠ¥í•˜ë©° ì§€ë¦¬ì , ì—­ì‚¬ì  ì—°ê³„ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-bold px-2 py-1 rounded mt-1 mr-2">EEZ (200í•´ë¦¬)</span>
                            <span class="text-sm text-slate-600">ìì› íƒì‚¬ ë° ê°œë°œ ê¶Œë¦¬ê°€ ìˆëŠ” ìˆ˜ì—­ìœ¼ë¡œ, ì•½ 370kmì— ë‹¬í•˜ëŠ” ê´‘ë²”ìœ„í•œ ì˜ì—­ì…ë‹ˆë‹¤.</span>
                        </li>
                    </ul>
                </div>

                <!-- Chart Container -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col justify-center">
                    <h4 class="text-sm font-semibold text-slate-500 mb-4 uppercase tracking-wider text-center">ê±°ë¦¬ ë° ìˆ˜ì—­ ë²”ìœ„ ë¹„êµ (km)</h4>
                    <div class="chart-container">
                        <canvas id="distanceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-sm">Â© 2024 Dokdo Interactive Report. Based on provided source material.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Data Store (Parsed from Markdown Source) ---
        const termData = [
            // 1. ì§€ë¦¬ ë° í–‰ì •
            { category: "ì§€ë¦¬ ë° í–‰ì •", term: "ë…ë„ (Dokdo)", desc: "ë™ë„ì™€ ì„œë„ ë° 89ê°œì˜ ë°”ìœ„ì„¬ìœ¼ë¡œ êµ¬ì„±ëœ í™”ì‚°ì„¬. ìš¸ë¦‰ë„ ë™ë‚¨ìª½ 87.4km ê±°ë¦¬ì— ìœ„ì¹˜í•¨.", icon: "ğŸï¸" },
            { category: "ì§€ë¦¬ ë° í–‰ì •", term: "ë…ë„ë¦¬ (Dokdo-ri)", desc: "ë…ë„ì˜ í–‰ì • êµ¬ì—­ ëª…ì¹­. ë„ë¡œëª… ì£¼ì†Œë¡œ ë™ë„ëŠ” 'ì´ì‚¬ë¶€ê¸¸', ì„œë„ëŠ” 'ì•ˆìš©ë³µê¸¸'ì„ ì‚¬ìš©í•¨.", icon: "ğŸ“®" },
            { category: "ì§€ë¦¬ ë° í–‰ì •", term: "í•´ì‚° (Seamounts)", desc: "ë…ë„ ì£¼ë³€ í•´ì €ì˜ ì‚°(ì•ˆìš©ë³µí•´ì‚°, ì‹¬í¥íƒí•´ì‚°, ì´ì‚¬ë¶€í•´ì‚° ë“±). ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì§€ì§ˆì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆìŒì„ ì¦ëª…í•¨.", icon: "â›°ï¸" },
            // 2. í•´ì–‘ë²• ë° ì¡°ì•½
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "ë°°íƒ€ì  ê²½ì œìˆ˜ì—­ (EEZ)", desc: "ì˜í•´ ê¸°ì„ ì—ì„œ 200í•´ë¦¬(ì•½ 370km)ê¹Œì§€ì˜ ìˆ˜ì—­. ì—°ì•ˆêµ­ì´ ìì› íƒì‚¬ ë° ê°œë°œ ê¶Œë¦¬ë¥¼ ê°€ì§.", icon: "âš“", value: 370 },
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "ì˜í•´ (Territorial Sea)", desc: "êµ­ê°€ì˜ ì£¼ê¶Œì´ ë¯¸ì¹˜ëŠ” ë°”ë‹¤. í†µìƒ ê¸°ì„ (í•´ì•ˆì„ )ìœ¼ë¡œë¶€í„° 12í•´ë¦¬(ì•½ 22km)ê¹Œì§€ì˜ ë²”ìœ„.", icon: "ğŸŒŠ", value: 22 },
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "í‰í™”ì„  (ì´ìŠ¹ë§Œ ë¼ì¸)", desc: "1952ë…„ í•œêµ­ ì •ë¶€ê°€ ì„ í¬í•œ ì£¼ê¶Œ ì„ ì–¸. ë…ë„ë¥¼ í¬í•¨í•œ ì¸ê·¼ ìˆ˜ì—­ì„ í•œêµ­ ê´€í• ë¡œ ëª…í™•íˆ í•¨.", year: 1952, icon: "ğŸš§" },
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "ì‹ í•œì¼ ì–´ì—…í˜‘ì •", desc: "1998ë…„ ì²´ê²°ëœ ì–´ì—…í˜‘ì •. ë…ë„ê°€ 'í•œì¼ ì¤‘ê°„ìˆ˜ì—­'ì— í¬í•¨ë˜ë©´ì„œ ì˜ìœ ê¶Œ ë° ì–´ì—…ê¶Œ ë…¼ë€ì˜ ë¶ˆì”¨ê°€ ë¨.", year: 1998, icon: "ğŸ¤" },
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "SCAPIN ì œ677í˜¸", desc: "1946ë…„ ì—°í•©êµ°ìµœê³ ì‚¬ë ¹ê´€ ì§€ë ¹. ë…ë„ë¥¼ ì¼ë³¸ì˜ í†µì¹˜ê¶Œì—ì„œ ì œì™¸í•˜ê³  í•œêµ­ ì˜í† ë¡œ ë¶„ë¥˜í•œ ëª…ë ¹ì„œ.", year: 1946, icon: "ğŸ“„" },
            { category: "í•´ì–‘ë²• ë° ì¡°ì•½", term: "ìƒŒí”„ë€ì‹œìŠ¤ì½” ê°•í™”ì¡°ì•½", desc: "1951ë…„ ì—°í•©êµ­ê³¼ ì¼ë³¸ì´ ë§ºì€ ì¡°ì•½. ë…ë„ê°€ ë°˜í™˜ ëª©ë¡ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ë¹ ì¡Œìœ¼ë‚˜, ì´ˆê¸° ì´ˆì•ˆì—ëŠ” í•œêµ­ ì˜í† ë¡œ ëª…ì‹œë¨.", year: 1951, icon: "âœï¸" },
            // 3. ì—­ì‚¬ì  ëª…ì¹­
            { category: "ì—­ì‚¬ì  ëª…ì¹­", term: "ìš°ì‚°ë„ (Usando)", desc: "ì‚¼êµ­ì‹œëŒ€ ìš°ì‚°êµ­ì—ì„œ ìœ ë˜í•œ ë…ë„ì˜ ì˜› ëª…ì¹­. ã€ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ã€ ë“±ì— ê¸°ë¡ë¨.", icon: "ğŸ·ï¸" },
            { category: "ì—­ì‚¬ì  ëª…ì¹­", term: "ì„ë„ (Seokdo)", desc: "'ëŒì„¬'ì„ í•œìë¡œ í‘œê¸°í•œ ëª…ì¹­. 1900ë…„ ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸ì—ì„œ ìš¸ë¦‰êµ° ê´€í•  êµ¬ì—­ìœ¼ë¡œ ëª…ì‹œë¨.", year: 1900, icon: "ğŸª¨" },
            { category: "ì—­ì‚¬ì  ëª…ì¹­", term: "ì†¡ë„ (Matsushima)", desc: "ê³¼ê±° ì¼ë³¸ì´ ë…ë„ë¥¼ ë¶€ë¥´ë˜ ëª…ì¹­. 1905ë…„ ì´í›„ ì¼ë³¸ì€ ë…ë„ë¥¼ 'ë‹¤ì¼€ì‹œë§ˆ'ë¡œ ë¶€ë¥´ê¸° ì‹œì‘í•¨.", year: 1905, icon: "ğŸ‡¯ğŸ‡µ" },
            { category: "ì—­ì‚¬ì  ëª…ì¹­", term: "ë¦¬ì•™ì¿ ë¥´ ì•” (Liancourt Rocks)", desc: "1849ë…„ í”„ë‘ìŠ¤ í¬ê²½ì„  ë¦¬ì•™ì¿ ë¥´í˜¸ê°€ ë…ë„ë¥¼ ë°œê²¬í•˜ê³  ë¶™ì¸ ì„œì–‘ì‹ ëª…ì¹­.", year: 1849, icon: "ğŸ‡«ğŸ‡·" },
            // 4. ì£¼ìš” ë¬¸í—Œ
            { category: "ì£¼ìš” ë¬¸í—Œ", term: "ì€ì£¼ì‹œì²­í•©ê¸°", desc: "1667ë…„ ì¼ë³¸ ë—í† ë¦¬ë²ˆì˜ ë³´ê³ ì„œ. ì¼ë³¸ì˜ ì„œìª½ ê²½ê³„ë¥¼ ì˜¤í‚¤ì„¬ìœ¼ë¡œ ê·œì •í•˜ì—¬ ë…ë„ì™€ ìš¸ë¦‰ë„ê°€ ì¡°ì„  ë•…ì„ì„ ì‹œì‚¬í•¨.", year: 1667, icon: "ğŸ“œ" },
            { category: "ì£¼ìš” ë¬¸í—Œ", term: "íƒœì •ê´€ ì§€ë ¹", desc: "1877ë…„ ì¼ë³¸ ë©”ì´ì§€ ì •ë¶€ ìµœê³  ê¸°ê´€ì¸ íƒœì •ê´€ì´ 'ìš¸ë¦‰ë„ì™€ ë…ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ì—†ë‹¤'ê³  ë‚´ë¬´ì„±ì— ë‚´ë¦° ì§€ì‹œë¬¸.", year: 1877, icon: "ğŸ›ï¸" },
            { category: "ì£¼ìš” ë¬¸í—Œ", term: "ì‹œë§ˆë„¤í˜„ ê³ ì‹œ ì œ40í˜¸", desc: "1905ë…„ ì¼ë³¸ì´ ë…ë„ë¥¼ ë‹¤ì¼€ì‹œë§ˆë¡œ ê°œì¹­í•˜ê³  ì‹œë§ˆë„¤í˜„ì— ê°•ì œ í¸ì…ì‹œí‚¨ ì§€ë°© ì •ë¶€ ê³ ì‹œ.", year: 1905, icon: "ğŸš«" },
            // 5. ì¸ë¬¼ ë° ë‹¨ì²´
            { category: "ì¸ë¬¼ ë° ë‹¨ì²´", term: "ì•ˆìš©ë³µ", desc: "ì¡°ì„  ìˆ™ì¢… ë•Œì˜ ì–´ë¶€. 1693ë…„, 1696ë…„ ì¼ë³¸ìœ¼ë¡œ ê±´ë„ˆê°€ ìš¸ë¦‰ë„/ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ì£¼ì¥í•˜ê³  ì—ë„ ë§‰ë¶€ì˜ ì¸ì •ì„ ë°›ì•„ëƒ„.", year: 1693, icon: "ğŸ‘¤" },
            { category: "ì¸ë¬¼ ë° ë‹¨ì²´", term: "ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€", desc: "1950ë…„ëŒ€ ì¼ë³¸ì˜ ë¶ˆë²• ì¹¨ì…ì— ë§ì„œ ë¯¼ê°„ì¸ë“¤ì´ ìë°œì ìœ¼ë¡œ ì¡°ì§í•˜ì—¬ ë…ë„ë¥¼ ì§€í‚¨ ë‹¨ì²´.", icon: "ğŸ›¡ï¸" },
            { category: "ì¸ë¬¼ ë° ë‹¨ì²´", term: "ìµœì¢…ë•", desc: "1965ë…„ë¶€í„° ë…ë„ì— ê±°ì£¼í•˜ë‹¤ê°€ 1981ë…„ ì£¼ë¯¼ë“±ë¡ì„ ì´ì „í•˜ì—¬ ë…ë„ì˜ ìµœì´ˆ ì£¼ë¯¼ì´ ëœ ì¸ë¬¼.", year: 1965, icon: "ğŸ " },
            // 6. ê¸°íƒ€
            { category: "ê¸°íƒ€", term: "ê°€ìŠ¤ í•˜ì´ë“œë ˆì´íŠ¸", desc: "ë…ë„ ì¸ê·¼ ì‹¬í•´ì €ì— ë§¤ì¥ëœ ê³ ì²´ ìƒíƒœì˜ ì²œì—°ê°€ìŠ¤. 'ë¶ˆíƒ€ëŠ” ì–¼ìŒ'ì´ë¼ ë¶ˆë¦¬ëŠ” ì°¨ì„¸ëŒ€ ì—ë„ˆì§€ì›.", icon: "ğŸ”¥" },
            { category: "ê¸°íƒ€", term: "ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ ", desc: "2005ë…„ ì¼ë³¸ ì‹œë§ˆë„¤í˜„ì´ 1905ë…„ì˜ ê°•ì œ í¸ì…ì„ ê¸°ë…í•´ ë§¤ë…„ 2ì›” 22ì¼ë¡œ ì œì •í•œ ë‚ .", year: 2005, icon: "ğŸ—“ï¸" }
        ];

        // --- 2. State Management ---
        let currentView = 'cards';
        let currentFilter = 'all';
        let searchTerm = '';

        // --- 3. DOM Elements ---
        const cardsGrid = document.getElementById('cardsGrid');
        const timelineContainer = document.getElementById('timelineContainer');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const viewTabs = document.querySelectorAll('.view-tab');
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');

        // --- 4. Render Logic ---

        // Render Cards
        function renderCards() {
            cardsGrid.innerHTML = '';
            
            const filteredData = termData.filter(item => {
                const matchesFilter = currentFilter === 'all' || item.category === currentFilter;
                const matchesSearch = item.term.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                      item.desc.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });

            if (filteredData.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
                filteredData.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'term-card bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col h-full';
                    
                    // Category Badge Color
                    let badgeColor = "bg-slate-100 text-slate-600";
                    if(item.category.includes("ì§€ë¦¬")) badgeColor = "bg-green-100 text-green-700";
                    if(item.category.includes("í•´ì–‘ë²•")) badgeColor = "bg-blue-100 text-blue-700";
                    if(item.category.includes("ì—­ì‚¬")) badgeColor = "bg-amber-100 text-amber-700";
                    if(item.category.includes("ë¬¸í—Œ")) badgeColor = "bg-stone-100 text-stone-700";
                    if(item.category.includes("ì¸ë¬¼")) badgeColor = "bg-purple-100 text-purple-700";

                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <span class="text-3xl">${item.icon}</span>
                            <span class="text-xs font-semibold px-2 py-1 rounded ${badgeColor}">${item.category}</span>
                        </div>
                        <h3 class="text-lg font-bold text-slate-800 mb-2">${item.term}</h3>
                        <p class="text-slate-600 text-sm leading-relaxed flex-grow">${item.desc}</p>
                    `;
                    cardsGrid.appendChild(card);
                });
            }
        }

        // Render Timeline
        function renderTimeline() {
            timelineContainer.innerHTML = '';
            
            // Filter items with years and sort
            const historyItems = termData
                .filter(item => item.year)
                .sort((a, b) => a.year - b.year);

            historyItems.forEach(item => {
                const node = document.createElement('div');
                node.className = 'mb-8 relative pl-6';
                node.innerHTML = `
                    <div class="absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-blue-500 border-4 border-blue-100"></div>
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-100 hover:shadow-md transition">
                        <span class="inline-block px-2 py-1 bg-blue-50 text-blue-600 text-xs font-bold rounded mb-1">${item.year}ë…„</span>
                        <h4 class="font-bold text-slate-800">${item.term}</h4>
                        <p class="text-sm text-slate-600 mt-1">${item.desc}</p>
                    </div>
                `;
                timelineContainer.appendChild(node);
            });
        }

        // Render Chart
        let distanceChart = null;

        function renderChart() {
            if (distanceChart) return; // Already rendered

            const ctx = document.getElementById('distanceChart').getContext('2d');
            
            distanceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ì˜í•´ (12í•´ë¦¬)', 'ìš¸ë¦‰ë„-ë…ë„ ê±°ë¦¬', 'EEZ (200í•´ë¦¬)'],
                    datasets: [{
                        label: 'ê±°ë¦¬ (km)',
                        data: [22, 87.4, 370],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)', // Blue
                            'rgba(16, 185, 129, 0.7)', // Green
                            'rgba(99, 102, 241, 0.7)'  // Indigo
                        ],
                        borderColor: [
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)',
                            'rgb(99, 102, 241)'
                        ],
                        borderWidth: 1,
                        borderRadius: 5
                    }]
                },
                options: {
                    indexAxis: 'y', // Horizontal bar chart
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.x + ' km';
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: { color: '#f1f5f9' },
                            title: { display: true, text: 'ê±°ë¦¬ (km)' }
                        },
                        y: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // --- 5. Event Listeners ---

        // View Switching
        window.switchView = (viewName) => {
            currentView = viewName;
            
            // Update Tab UI
            viewTabs.forEach(tab => {
                if (tab.dataset.view === viewName) {
                    tab.classList.remove('bg-white', 'text-slate-600', 'hover:bg-slate-100', 'border', 'border-slate-200');
                    tab.classList.add('bg-blue-600', 'text-white', 'hover:bg-blue-700');
                } else {
                    tab.classList.add('bg-white', 'text-slate-600', 'hover:bg-slate-100', 'border', 'border-slate-200');
                    tab.classList.remove('bg-blue-600', 'text-white', 'hover:bg-blue-700');
                }
            });

            // Toggle Sections
            document.getElementById('cardsView').classList.add('hidden');
            document.getElementById('timelineView').classList.add('hidden');
            document.getElementById('dataView').classList.add('hidden');
            document.getElementById('filterContainer').classList.add('hidden');

            if (viewName === 'cards') {
                document.getElementById('cardsView').classList.remove('hidden');
                document.getElementById('filterContainer').classList.remove('hidden');
                renderCards();
            } else if (viewName === 'timeline') {
                document.getElementById('timelineView').classList.remove('hidden');
                renderTimeline();
            } else if (viewName === 'data') {
                document.getElementById('dataView').classList.remove('hidden');
                // Small delay to ensure container size is calculated
                setTimeout(renderChart, 50);
            }
        };

        // Filtering
        window.filterCards = (category) => {
            currentFilter = category;
            
            // Update Filter UI
            filterBtns.forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('active', 'bg-slate-200', 'text-slate-700');
                    btn.classList.remove('bg-white', 'border', 'text-slate-600');
                } else {
                    btn.classList.remove('active', 'bg-slate-200', 'text-slate-700');
                    btn.classList.add('bg-white', 'border', 'text-slate-600');
                }
            });
            
            renderCards();
        };

        // Searching
        searchInput.addEventListener('input', (e) => {
            searchTerm = e.target.value;
            if (currentView !== 'cards') {
                switchView('cards');
            } else {
                renderCards();
            }
        });

        // Initial Render
        renderCards();

    </script>
</body>
</html>
